<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">

    <title>Pages</title>

    <%- include ../partials/head -%>

    <%- include ../partials/header -%>

    <% if (feedback) { %>
      <div id="feedback" class="<%= feedbackState %>">
        <%= feedback %>
      </div>
    <% } %>

    <h1>Pages</h1>

    <p>
      This page is deticated to all the pages your website contains. Every page has it's page type, list of menu's, and content fields.<br>
      Add a page by pressing the 'Add new page' button, or edit one by selecting it's title.
    </p>

    <button data-add="page" onclick="toggleShow('#pageTypes')">Add new page</button>

    <ul id="pageTypes" class="hidden">
      <% for (let i = 0; i < system.types.length; i++) { %>
        <li>
          <a href="/subterra/pages/add/<%= system.types[i] %>">Add <%= system.types[i] %></a>
        </li>
      <% } %>
    </ul>

    <% if (system.pages.length > 0) { %>
      <ul>
        <% for (let i = 0; i < system.pages.length; i++) { %>
          <li>
            <a href="/subterra/pages/edit/<%= system.pages[i].id %>">
              <%= system.pages[i].title %>
            </a>
            | <%= system.pages[i].type %>
            <button data-action="delete page" onclick="deleteItem('pages', <%= system.pages[i].id %>)">delete</button>
          </li>
        <% } %>
      </ul>
    <% } else { %>
      <p>No pages found.</p>
    <% } %>

    <%- include ../partials/footer -%>
